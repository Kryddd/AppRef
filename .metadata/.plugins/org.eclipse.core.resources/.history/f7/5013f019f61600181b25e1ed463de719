package users;

import java.util.ArrayList;

public class Users {

	private static Users instance = null;
	private ArrayList<Programmeur> progs;
	private ArrayList<Amateur> amateurs;

	private Users() {
		progs = new ArrayList<>();
		amateurs = new ArrayList<>();
	}
	
	public static synchronized Users getInstance() {
		if(instance == null) {
			instance = new Users();
		}
		return instance;
	}
	
	public ArrayList<Programmeur> getProgs() {
		return progs;
	}

	public ArrayList<Amateur> getAmateurs() {
		return amateurs;
	}
	
	public synchronized void addProg(Programmeur prog) {
		progs.add(prog);
	}
	
	public synchronized void addAmateur(Amateur amateur) {
		amateurs.add(amateur);
	}
	
	public Programmeur findProg(String login, String password) {
		for(Programmeur p : progs) {
			if(p.getLogin().equals(login) && p.getPassword().equals(password)) {
				return p;
			}
		}
		
		return null;
	}
	
	public Amateur findAmateur(String login, String password) {
		for(Amateur a : amateurs) {
			if(a.getLogin().equals(login) && a.getPassword().equals(password)) {
				return a;
			}
		}
		
		return null;
	}
}
